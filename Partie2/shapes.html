// Almamy youssouf Ly
<!DOCTYPE HTML>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Partie 2</title>

</head>

<body>
    <script src="d3.js"></script>


    <script type="text/javascript">
        // mise en place du cadre svg
        var svg = d3.select("body")
            .append("svg")
            .attr("height", 600)
            .attr("width", 660)
            .style("border", "3px solid red") //contour du svg en 3px 
            .style("background-color", "#404040") //coloration en gris foncé

        //Ajout du texte dans svg
        svg.append("text")
            .attr("id", "svg_28")
            .style("font-size", 24)
            .style("text-anchor", "middle")
            .style("font-family", "serif")
            .style("stroke-width", 0)
            .style("stroke", "#000000")
            .style("fill", "#000000")
            .attr("x", 330)
            .attr("y", 31)
            .text("Salut les amis du MSDA. Effacez moi!")
        d3.select("#svg_28").remove(); //Suppression du texte

        //construction des ellipses
        var jsonEllipses = [{
                "ry": 50,
                "rx": 71,
                "id": "svg_4",
                "cy": 269,
                "cx": 88,
                "contour": 5,
                "stroke": "#000000",
                "color": "blue"
            }, {

                "ry": 29,
                "rx": 9,
                "id": "svg_5",
                "cy": 345,
                "cx": 201,
                "contour": 5,
                "stroke": "#000000",
                "color": "blue"
            }, {
                "ry": 15,
                "rx": 61,
                "id": "svg_6",
                "cy": 362,
                "cx": 280,
                "contour": 5,
                "stroke": "#000000",
                "color": "blue"
            }, {
                "ry": 27,
                "rx": 46,
                "id": "svg_7",
                "cy": 355,
                "cx": 445,
                "contour": 5,
                "stroke": "#000000",
                "color": "blue"
            }, {
                "rx": 61,
                "id": "svg_8",
                "cy": 267,
                "cx": 510,
                "contour": 5,
                "stroke": "#000000",
                "color": "blue"

            }, {
                "ry": 57,
                "rx": 22,
                "id": "svg_9",
                "cy": 242,
                "cx": 354,
                "contour": 5,
                "stroke": "#000000",
                "color": "blue"
            }, {
                "ry": 38,
                "rx": 63,
                "id": "svg_10",
                "cy": 234,
                "cx": 287,
                "contour": 5,
                "stroke": "#000000",
                "color": "blue"
            }, {
                "ry": 7,
                "rx": 35,
                "id": "svg_11",
                "cy": 229,
                "cx": 463,
                "contour": 5,
                "stroke": "#000000",
                "color": "blue"
            }, {
                "ry": 10.5,
                "rx": 13,
                "id": "svg_12",
                "cy": 330.5,
                "cx": 373,
                "contour": 5,
                "stroke": "#000000",
                "color": "blue"
            }, {
                "ry": 40,
                "rx": 51,
                "id": "svg_13",
                "cy": 278,
                "cx": 223,
                "contour": 5,
                "stroke": "#000000",
                "color": "blue"
            }

        ];
        var ellipses = svg.selectAll("ellipse")
            .data(jsonEllipses)
            .enter()
            .append("ellipse");

        var ellipseAttributes = ellipses
            .attr("cx", function(d) {
                return d.cx;
            })
            .attr("cy", function(d) {
                return d.cy;
            })
            .attr("rx", function(d) {
                return d.rx;
            })
            .attr("ry", function(d) {
                return d.ry;
            })
            .style("fill", function(d) {
                return d.color;
            })
            .style("stroke", function(d) {
                return d.stroke;
            })
            .style("stroke-width", function(d) {
                return d.contour;
            });

        //Construction des rectangles
        var jsonRect = [{
            "height": 49,
            "width": 68,
            "id": "svg_1",
            "y": 103,
            "x": 110,
            "contour": 2, //largeur de trait à 2px
            "stroke": "#000000",
            "color": "blue" //coloration bleue
        }, {
            "height": 70,
            "width": 107,
            "id": "svg_2",
            "y": 103,
            "x": 214,
            "contour": 2, //largeur de trait à 2px
            "stroke": "orange", //conttour en orange
            "color": "#ff99cc" //coloration rose
        }, {
            "height": 53,
            "width": 76,
            "id": "svg_3",
            "y": 103,
            "x": 371,
            "contour": 2, //largeur de trait à 2px
            "stroke": "#000000",
            "color": "#ff99cc" //coloration rose
        }];
        var Rectangle = svg.selectAll("rect")
            .data(jsonRect)
            .enter()
            .append("rect");
        var rectAttributes = Rectangle
            .attr("height", function(d) {
                return d.height;
            })
            .attr("width", function(d) {
                return d.width;
            })
            .attr("x", function(d) {
                return d.x;
            })
            .attr("y", function(d) {
                return d.y;
            })
            .style("fill", function(d) {
                return d.color;
            })
            .style("stroke", function(d) {
                return d.stroke;
            })
            .style("stroke-width", function(d) {
                return d.contour;
            });

        //Construction des lignes
        var jsonLine = [{
            "id": "svg_14",
            "y2": 157,
            "x2": 525,
            "y1": 65,
            "x1": 388,
            "stroke": "#000000",
            "fill": "none"
        }, {
            "id": "svg_15",
            "y2": 181,
            "x2": 607,
            "y1": 71,
            "x1": 537,
            "stroke": "#000000",
            "fill": "none"
        }, {
            "id": "svg_16",
            "y2": 338,
            "x2": 621,
            "y1": 261,
            "x1": 602,
            "stroke": "#000000",
            "fill": "none"
        }, {
            "id": "svg_17",
            "y2": 278,
            "x2": 431,
            "y1": 264,
            "x1": 534,
            "stroke": "#000000",
            "fill": "none"
        }, {
            "id": "svg_18",
            "y2": 294,
            "x2": 583,
            "y1": 191,
            "x1": 511,
            "stroke": "#000000",
            "fill": "none"
        }, {
            "id": "svg_19",
            "y2": 407,
            "x2": 555,
            "y1": 339,
            "x1": 575,
            "stroke": "#000000",
            "fill": "none"
        }, {
            "id": "svg_20",
            "y2": 430,
            "x2": 645,
            "y1": 415,
            "x1": 594,
            "stroke": "#000000",
            "fill": "none"
        }, {
            "id": "svg_21",
            "y2": 434,
            "x2": 232,
            "y1": 447,
            "x1": 453,
            "stroke": "#000000",
            "fill": "none"
        }, {
            "id": "svg_22",
            "y2": 437,
            "x2": 108,
            "y1": 400,
            "x1": 143,
            "stroke": "#000000",
            "fill": "none"
        }];

        var ligne = svg.selectAll("line")
            .data(jsonLine)
            .enter()
            .append("line")

        var lineAttributes = ligne
            .attr("x1", function(d) {
                return d.x1;
            })
            .attr("x2", function(d) {
                return d.x2;
            })
            .attr("y1", function(d) {
                return d.y1;
            })
            .attr("y2", function(d) {
                return d.y2;
            })

        .style("stroke", function(d) {
                return d.stroke;
            })
            .style("fill", function(d) {
                return d.color;
            });
    </script>


</body>

</html>